!function(){"use strict";var a="nes.imagecache::";angular.module("nes.imagecache",[]),angular.module("nes.imagecache").directive("imgCached",function(){return{restrict:"E",template:"<img />",replace:!0,link:function(b,c,d){function e(){QImgCache.useCachedFileWithSource(c,d.url)}return"undefined"==typeof d.url?void console.info("No src found for image"):(b.$on(a+"refresh",e),void("undefined"!=typeof ionic?ionic.Platform.ready(e):e()))}}}),angular.module("nes.imagecache").service("$imageCache",["$q","$rootScope",function(b,c){function d(d){if("undefined"==typeof d||"object"==typeof d&&"[object Array]"!=Object.prototype.toString.call(d))throw"Only 'string' and ['string'] are accepted";"string"==typeof d&&(d=[d]);var e=[];angular.forEach(d,function(a){angular.isDefined(a)&&this.push(a)},e);var f=b.defer(),g=[];return angular.forEach(e,function(a){g.push(QImgCache.cacheFile(a))}),b.all(g).then(function(){c.$broadcast(a+"refresh"),f.resolve(arguments)},function(){f.reject(arguments)}),f.promise}function e(a){return"string"==typeof a?QImgCache.removeFile(a):QImgCache.clearCache()}function f(){c.$emit(a+"refresh")}function g(){ImgCache.options.debug=!0,ImgCache.options.chromeQuota=52428800}return{cache:d,clear:e,refresh:f,init:g}}])}();